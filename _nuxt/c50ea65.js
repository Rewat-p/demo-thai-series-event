(window.webpackJsonp=window.webpackJsonp||[]).push([[7,9],{381:function(e,t,r){var content=r(391);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(81).default)("956b7ad6",content,!0,{sourceMap:!1})},389:function(e,t,r){var content=r(422);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(81).default)("50b9186a",content,!0,{sourceMap:!1})},390:function(e,t,r){"use strict";r(381)},391:function(e,t,r){var n=r(80)(!1);n.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@100;300;400;500;600;700&display=swap);"]),n.push([e.i,".reward-item__box[data-v-158d79e7]{display:flex}.reward-item__box>*+*[data-v-158d79e7]{padding-left:8px}.reward-item__actions[data-v-158d79e7]{display:flex;align-items:flex-start;justify-content:flex-end;margin-right:-8px}",""]),e.exports=n},399:function(e,t,r){"use strict";r.r(t);var n=r(426),o=r(438),c=r(374),d=r(565),l=r(434),m=r(443),f=r(414),v=r(373),h=r(462),_=r(566),w=r(461),y=r(569),O=(r(31),r(25),r(242),{name:"RewardItem",props:{value:{type:Object,default:function(){return{}}},addMode:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},data:function(){return{edit:!1,valid:!0,item:{name:"",qty:""}}},methods:{handleOnEdit:function(){this.item=JSON.parse(JSON.stringify(this.value)),this.edit=!0},handleOnUpdate:function(){this.$emit("update",this.item),this.edit=!1,this.$refs.formCreateReward.reset()},handleOnAdd:function(){this.$emit("input",this.item),this.$emit("add",this.item),this.$refs.formCreateReward.reset()},handleOnRemove:function(){this.$emit("remove",this.value.ref)},handleOnCancel:function(){this.edit=!1,this.$emit("cancel")}}}),x=(r(390),r(65)),component=Object(x.a)(O,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"reward-item__container"},[e.edit||e.addMode?t(o.a,{staticClass:"reward-item__card",attrs:{outlined:""}},[t(c.b,{staticClass:"pb-0"},[t(d.a,{ref:"formCreateReward",on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(y.a,{attrs:{label:"Name",rules:[function(e){return!!e||"Name is required"}],rows:1,"auto-grow":"",dense:"",outlined:""},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}}),e._v(" "),t(w.a,{attrs:{label:"Quantity",type:"number",rules:[function(e){return!!e||"Quantity is required"},function(e){return!!e&&/\d+/.test(e)||"Quantity is invalid"},function(e){return!!e&&Number(e)>0||"Quantity must be greater than 0"}],dense:"",outlined:""},model:{value:e.item.qty,callback:function(t){e.$set(e.item,"qty",t)},expression:"item.qty"}})],1)],1),e._v(" "),t(c.a,[t(_.a),e._v(" "),t(n.a,{attrs:{text:""},on:{click:e.handleOnCancel}},[e._v("Cancel")]),e._v(" "),e.addMode?t(n.a,{attrs:{text:""},on:{click:e.handleOnAdd}},[e._v("Add")]):t(n.a,{attrs:{text:""},on:{click:e.handleOnUpdate}},[e._v("Update")])],1)],1):t(o.a,{attrs:{outlined:""}},[t(c.b,[t("div",{staticClass:"reward-item__box"},[t("div",{staticClass:"reward-item__title"},[t("div",{staticClass:"text-subtitle-2"},[e._v(e._s(e.value.name))]),e._v(" "),t("div",{staticClass:"text-body-2 font-weight-light"},[e._v("\n            "+e._s(e.value.draws)+"/"+e._s(e.value.qty)+" items\n          ")])]),e._v(" "),t(_.a),e._v(" "),t("div",{staticClass:"reward-item__actions"},[t(h.a,{attrs:{"nudge-width":200,bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[t(l.a,e._g(e._b({},"v-icon",o,!1),n),[e._v("\n                  mdi-dots-vertical\n                ")])]}}])},[e._v(" "),t(m.a,[t(f.a,{on:{click:e.handleOnEdit}},[t(v.b,[e._v("Edit")])],1),e._v(" "),t(f.a,{on:{click:e.handleOnRemove}},[t(v.b,[e._v("Delete")])],1)],1)],1)],1)],1)])],1)],1)}),[],!1,null,"158d79e7",null);t.default=component.exports},421:function(e,t,r){"use strict";r(389)},422:function(e,t,r){var n=r(80)(!1);n.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@100;300;400;500;600;700&display=swap);"]),n.push([e.i,".manage-reward__container[data-v-fb1b9b48]{padding-left:16px;padding-right:16px}.manage-reward__content[data-v-fb1b9b48]{padding-top:16px;padding-bottom:16px}.manage-reward__content>div>*+*[data-v-fb1b9b48]{margin-top:8px}",""]),e.exports=n},460:function(e,t,r){"use strict";r.r(t);var n=r(426),o=r(382),c=r(434),d=r(12),l=r(9);r(50),r(115),r(31),r(242),r(55),r(24),r(23),r(30),r(4),r(45),r(29),r(46);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(d.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"ManageReward",props:{value:{type:Array,default:function(){return[]}}},data:function(){return{items:[],valid:!0,createDialog:!1,creating:!1,removing:!1,createItem:{name:"",qty:""}}},watch:{value:{deep:!0,handler:function(e){this.items=e}}},mounted:function(){this.items=this.value},methods:{handleOnCreate:function(){this.createDialog=!0},handleOnAdd:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.creating=!0,r=String(e.createItem.name).trim(),n=Number(e.createItem.qty),o=Date.now(),e.createDialog=!1,e.createItem={name:"",qty:""},t.next=9,e.$fire.database.ref("rewards").push({id:o,name:r,qty:n,draws:0});case 9:return t.next=11,e.onLoadReward();case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:return t.prev=16,e.creating=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,13,16,19]])})))()},handleOnUpdate:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=JSON.parse(JSON.stringify(e)),o=n.ref,n.name=String(n.name).trim(),n.qty=Number(n.qty),delete n.ref,r.next=8,t.$fire.database.ref("rewards").child(o).update(n);case 8:return r.next=10,t.onLoadReward();case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),console.error(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},handleOnRemove:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.removing=!0,r.next=4,t.$fire.database.ref("rewards").child(e).remove();case 4:return r.next=6,t.onLoadReward();case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:return r.prev=11,t.removing=!1,r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[0,8,11,14]])})))()},onLoadReward:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$fire.database.ref("rewards").once("value");case 2:r=t.sent,n=r.val()||{},e.items=Object.keys(n).map((function(e){return f(f({},n[e]),{},{ref:e})}));case 5:case"end":return t.stop()}}),t)})))()}}},h=(r(421),r(65)),component=Object(h.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"manage-reward__container"},[e.createDialog||e.creating?e._e():t(n.a,{staticClass:"text-capitalize",attrs:{block:"",text:"",rounded:""},on:{click:e.handleOnCreate}},[t(c.a,{attrs:{color:"primary",left:""}},[e._v("mdi-plus")]),e._v("\n    Add\n  ")],1),e._v(" "),e.creating?t("div",[e._v("Saving...")]):e._e(),e._v(" "),t(o.a,[t("reward-item",{directives:[{name:"show",rawName:"v-show",value:e.createDialog,expression:"createDialog"}],attrs:{"add-mode":""},on:{add:e.handleOnAdd,cancel:function(t){e.createDialog=!1}},model:{value:e.createItem,callback:function(t){e.createItem=t},expression:"createItem"}})],1),e._v(" "),t("div",{staticClass:"manage-reward__content"},[t(o.f,{staticClass:"py-0",attrs:{tag:"div",group:""}},[e._l(e.items,(function(r){return[t("reward-item",{key:r.ref,attrs:{value:r},on:{update:e.handleOnUpdate,remove:e.handleOnRemove}})]}))],2)],1)],1)}),[],!1,null,"fb1b9b48",null);t.default=component.exports;installComponents(component,{RewardItem:r(399).default})}}]);