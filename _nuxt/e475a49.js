(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{404:function(e,t,n){var content=n(430);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(81).default)("670b0816",content,!0,{sourceMap:!1})},405:function(e,t,n){var content=n(432);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(81).default)("992aaaae",content,!0,{sourceMap:!1})},429:function(e,t,n){"use strict";n(404)},430:function(e,t,n){var r=n(80)(!1);r.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@100;300;400;500;600;700&display=swap);"]),r.push([e.i,".screen__box{display:flex;justify-content:center;align-items:center;font-size:8rem}",""]),e.exports=r},431:function(e,t,n){"use strict";n(405)},432:function(e,t,n){var r=n(80)(!1);r.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Kanit:wght@100;300;400;500;600;700&display=swap);"]),r.push([e.i,".screen__container[data-v-5cefcecc]{background-color:#00b13f;display:flex;align-items:center;justify-content:center}.screen__content[data-v-5cefcecc]{position:relative;width:100%;max-width:860px;display:flex}.screen__item[data-v-5cefcecc]{margin-left:12px;margin-right:12px;background-color:#fff;border-radius:50%;overflow:hidden}.screen__boxes[data-v-5cefcecc]{transition:transform 1s ease-in-out}",""]),e.exports=r},508:function(e,t,n){"use strict";n.r(t);var r=n(418),o=n(385),c=(n(31),n(56),n(25),n(23),n(57),n(65),n(9)),l=n(371),f=n(15);n(50),n(4),n(30),n(29),n(51),n(74),n(26),n(27);function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var v={name:"ScreenPage",data:function(){return{boxSize:100,items:[1,2,3,4,5,6,7,8,9,0],spinning:!1,startRef:null}},mounted:function(){this.initEvent(),this.init()},methods:{onResize:function(){var e=Math.min(window.innerWidth,860)-69;this.boxSize=e/3},initEvent:function(){var e=this;try{this.startRef=this.$fire.database.ref("game/stage"),this.startRef.on("value",(function(t){var n=t.val(),r=n.status,code=n.code;"ready"===r?e.handleReset():"spin"===r&&e.spin(code)}))}catch(e){console.error(e)}},init:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=document.querySelectorAll(".screen__item");o=Math.min(1,o);var h,v=0,m=d(c);try{var x=function(){var c=h.value;if(n)c.dataset.spinned="0";else if("1"===c.dataset.spinned)return{v:void 0};var f=c.querySelector(".screen__boxes"),d=f.cloneNode(!1),m=["?"];if(!n){r=Math.min(1,r);for(var x=[],i=0;i<r;i++)x.push.apply(x,Object(l.a)(t.items));console.log(t.shuffle(x)),m.push.apply(m,Object(l.a)(t.shuffle(x))),m.push(e[v]),d.addEventListener("transitionstart",(function(){c.dataset.spinned="1",f.querySelectorAll(".screen__box").forEach((function(e){e.style.filter="blur(1px)"}))}),{once:!0}),d.addEventListener("transitionend",(function(){f.querySelectorAll(".screen__box").forEach((function(e,t){e.style.filter="blur(0)",t>0&&f.removeChild(e)}))}),{once:!0})}for(var y=m.length-1;y>=0;y--){var _=document.createElement("div");_.classList.add("screen__box"),_.style.width=t.boxSize+"px",_.style.height=t.boxSize+"px",_.textContent=m[y],d.appendChild(_)}d.style.transitionDuration="".concat(o,"s"),d.style.transform="translateY(-".concat(c.clientHeight*(m.length-1),"px)"),c.replaceChild(d,f),v+=1};for(m.s();!(h=m.n()).done;){var y=x();if("object"===Object(f.a)(y))return y.v}}catch(e){m.e(e)}finally{m.f()}},spin:function(code){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r,o,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.spinning){t.next=2;break}return t.abrupt("return");case 2:e.spinning=!0,n=("000"+code).slice(-3).split(""),console.log("lucky",n),e.init(n,!1,1,2),r=document.querySelectorAll(".screen__item"),o=d(r),t.prev=8,f=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.value,n=t.querySelector(".screen__boxes"),r=parseInt(n.style.transitionDuration),n.style.transform="translateY(0)",e.next=6,new Promise((function(e){return setTimeout(e,100*r)}));case 6:case"end":return e.stop()}}),e)})),o.s();case 11:if((l=o.n()).done){t.next=15;break}return t.delegateYield(f(),"t0",13);case 13:t.next=11;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(8),o.e(t.t1);case 20:return t.prev=20,o.f(),t.finish(20);case 23:setTimeout(Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e.startRef,!t.t0){t.next=4;break}return t.next=4,e.startRef.update({"/status":"spined"});case 4:case"end":return t.stop()}}),t)}))),900);case 24:case"end":return t.stop()}}),t,null,[[8,17,20,23]])})))()},shuffle:function(e){for(var t=e.length;t>0;){var n=Math.floor(Math.random()*t),r=e[t-=1];e[t]=e[n],e[n]=r}return e},handleReset:function(){this.spinning=!1,this.init()},handleSpin:function(){var e=Math.floor(501*Math.random());this.spin(e)}}},m=v,x=(n(429),n(431),n(67)),component=Object(x.a)(m,(function(){var e=this,t=e._self._c;return t("div",{directives:[{def:o.a,name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"screen__container fill-height"},[t("div",{staticClass:"screen__content",attrs:{id:"content"}},[t("div",{staticClass:"screen__item",style:{width:e.boxSize+"px",height:e.boxSize+"px"}},[t("div",{staticClass:"screen__boxes"})]),e._v(" "),t("div",{staticClass:"screen__item",style:{width:e.boxSize+"px",height:e.boxSize+"px"}},[t("div",{staticClass:"screen__boxes"})]),e._v(" "),t("div",{staticClass:"screen__item",style:{width:e.boxSize+"px",height:e.boxSize+"px"}},[t("div",{staticClass:"screen__boxes"})])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{position:"absolute",top:"16px",right:"16px"}},[t(r.a,{on:{click:e.handleSpin}},[e._v("spin")]),e._v(" "),t(r.a,{on:{click:e.handleReset}},[e._v("reset")])],1)])}),[],!1,null,"5cefcecc",null);t.default=component.exports}}]);